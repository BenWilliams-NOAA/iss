<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Stock complex survey input sample size function — srvy_iss_ai_cmplx • surveyISS</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Stock complex survey input sample size function — srvy_iss_ai_cmplx"><meta property="og:description" content="Bootstrap data sources to replicate bottom trawl survey age and length composition
for computation of input sample size tailored to AI stock complexes (where length composition
is expanded for each individual species in the complex, but age-length specimen data is combined 
across species in the complex prior to age composition expansion)"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">surveyISS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/example.html">example</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/BenWilliams-NOAA/surveyISS/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Stock complex survey input sample size function</h1>
    <small class="dont-index">Source: <a href="https://github.com/BenWilliams-NOAA/surveyISS/blob/HEAD/R/srvy_iss.R" class="external-link"><code>R/srvy_iss.R</code></a></small>
    <div class="hidden name"><code>srvy_iss_ai_cmplx.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Bootstrap data sources to replicate bottom trawl survey age and length composition
for computation of input sample size tailored to AI stock complexes (where length composition
is expanded for each individual species in the complex, but age-length specimen data is combined 
across species in the complex prior to age composition expansion)</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">srvy_iss_ai_cmplx</span><span class="op">(</span></span>
<span>  iters <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">lfreq_data</span>,</span>
<span>  <span class="va">specimen_data</span>,</span>
<span>  <span class="va">cpue_data</span>,</span>
<span>  <span class="va">strata_data</span>,</span>
<span>  yrs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bin <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  boot_hauls <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  boot_lengths <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  boot_ages <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  al_var <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  al_var_ann <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  age_err <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  len_samples <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  age_samples <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  plus_len <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  plus_age <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cmplx_code <span class="op">=</span> <span class="fl">3005012</span>,</span>
<span>  by_strata <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  global <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cmplx <span class="op">=</span> <span class="st">"bsre"</span>,</span>
<span>  region <span class="op">=</span> <span class="st">"ai"</span>,</span>
<span>  save_interm <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  save_stats <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">save</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>iters</dt>
<dd><p>number of iterations (min of 500 recommended for full run)</p></dd>


<dt>lfreq_data</dt>
<dd><p>length frequency input dataframe</p></dd>


<dt>specimen_data</dt>
<dd><p>age-length specimen input dataframe</p></dd>


<dt>cpue_data</dt>
<dd><p>catch-per-unit effort input dataframe</p></dd>


<dt>strata_data</dt>
<dd><p>strata id and area size input dataframe</p></dd>


<dt>yrs</dt>
<dd><p>any year filter &gt;= (default = NULL)</p></dd>


<dt>bin</dt>
<dd><p>bin size (default = 1 cm), also can use custom length bins through defining vector of upper length bin limits, i.e., c(5, 10, 20, 35, 60), plus length group will automatically be populated and denoted with the largest defined bin + 1 (i.e., 61 for provided example)</p></dd>


<dt>boot_hauls</dt>
<dd><p>Boolean. Resample hauls w/replacement? (default = FALSE)</p></dd>


<dt>boot_lengths</dt>
<dd><p>Boolean. Resample length frequency w/replacement? (default = FALSE)</p></dd>


<dt>boot_ages</dt>
<dd><p>Boolean. Resample ages w/replacement? (default = FALSE)</p></dd>


<dt>al_var</dt>
<dd><p>Boolean. Include age-length variability in resampled age data? (default = FALSE)</p></dd>


<dt>al_var_ann</dt>
<dd><p>Boolean. Resample age-length variability annually or pooled across years? (default = FALSE)</p></dd>


<dt>age_err</dt>
<dd><p>Boolean. Include ageing error in resampled age data? (default = FALSE)</p></dd>


<dt>len_samples</dt>
<dd><p>If set at a value, tests reductions in haul-level length sampling. To test, set this value at some smaller level than current sampling rate, i.e., 25 (default = NULL)</p></dd>


<dt>age_samples</dt>
<dd><p>If set at a value, tests reductions (and increases) in survey-level number of ages collected. To test, set at a proportion of ages collected, i.e., 0.8 or 1.2 (default = NULL)</p></dd>


<dt>plus_len</dt>
<dd><p>If set at a value, computes length expansion with a plus-length group (default = FALSE)</p></dd>


<dt>plus_age</dt>
<dd><p>If set at a value, computes age expansion with a plus-age group (default = FALSE)</p></dd>


<dt>cmplx_code</dt>
<dd><p>Numeric value to replace the individual species codes with a complex code shared across species. (default = 3005012)</p></dd>


<dt>by_strata</dt>
<dd><p>Boolean. Should length/age pop'n values be computed at stratum level? (default = FALSE)</p></dd>


<dt>global</dt>
<dd><p>Boolean. Fill in missing length bins with global age-lenth key? (default = FALSE)</p></dd>


<dt>cmplx</dt>
<dd><p>Complex name for saving results. (default = 'bsre')</p></dd>


<dt>region</dt>
<dd><p>Region will create a folder and place results in said folder. (default = 'ai')</p></dd>


<dt>save_interm</dt>
<dd><p>Boolean. Save the intermediate results: resampled age/length comps and realized sample size per iteration? (default = FALSE)</p></dd>


<dt>save_stats</dt>
<dd><p>Boolean. Save other statistics: base age/length comps without resampling, mean length-at-age, bootstrap bias? (default = FALSE)</p></dd>


<dt>save</dt>
<dd><p>Name to attach to and identify output files.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Dataframe of input sample size by year, complex (designated with cmplx_code), sex (0 - combined sex 
with age/length data combined prior to expansion, 1 - males, 2 - females, 3 - unsexed, 12 - female/male
compositions that sum to one across both sexes combined, 4 - combined sex after summing sex-specific age/length
composition after expansion; all with short description IDs in sex_desc column) for age composition (output saved with
'iss_age' in file name) and length composition (output saved as 'iss_ln' in file name). For comparison, nominal 
sample size ('nss' - the number of age/length samples actually taken) and the number of sampled hauls for 
age/length ('nhls') are included. AI complex output will be denoted with whatever is defined in cmplx argument
 within the file name. Will also produce other dataframes if desired (see save_intern and save_stats argument descriptions).</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Ben Williams, Pete Hulson.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

